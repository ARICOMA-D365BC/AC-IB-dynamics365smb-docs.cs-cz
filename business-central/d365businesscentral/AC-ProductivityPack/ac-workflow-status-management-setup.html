<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Workflow status management setup </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Workflow status management setup ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../TOC.html">
    <meta property="docfx:tocrel" content="TOC.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="png" src="../logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="řízení-stavů---nastavení">Řízení stavů - Nastavení</h1>

<h2 id="nastavení-šablony-řízení-stavů">Nastavení šablony řízení stavů</h2>
<ol>
<li>Vyberte ikonu <img src="media/ui-search/search_small.png" alt="Žárovky, která otevře funkci Řekněte mi" title="Řekněte mi, co chcete dělat">, zadejte <strong>Šablony řízení stavů</strong> a poté vyberte související odkaz.</li>
<li>Na stránce <strong>Šablony řízení stavů</strong> zvolte akci <strong>Nový</strong>.</li>
<li>Vyplňte pole <strong>Kód</strong>, <strong>Popis</strong> a <strong>Číslo tabulky</strong> (pro kterou bude šablona nastavena).</li>
<li>Pokud chcete, aby se automaticky logovaly změny, zaškrtněte políčko <strong>Logovat změny</strong>.</li>
</ol>
<p><img src="media/WF_Templates.png" alt="Nastavení Řízení stavů - šablony Řízení stavů"></p>
<ol start="5">
<li>Pokud chcete zadat jednotlivé stavy nově vytvořeného řízení stavů, klikněte na <strong>Stavy</strong>.</li>
</ol>
<p>Pro každý stav Řízení stavů je třeba nadefinovat <strong>Kód</strong>, <strong>Popis</strong> a <strong>Filtr dalšího stavu</strong>, který určuje, do jakých dalších stavů je možné z daného stavu přejít. Právě jeden ze stavů musí být označen jako <strong>Výchozí stav</strong> (zaškrtnutím tlačítka Výchozí stav). Tento stav se pak automaticky vyplní při založení nového řádku tabulky, s kterou řízení stavů pracuje (dokument, požadavek, atd.).</p>
<p>Některé stavy mohou být označeny jako <strong>Konečný stav</strong>, z něhož se už nepokračuje do žádného dalšího stavu.</p>
<p>Příklad nastavení stavů pro Řízení stavů je zobrazen na obrázku níže.</p>
<p><img src="media/WF_states.png" alt="Nastavení Řízení stavů - stavy Řízení stavů"></p>
<p>Pro aktivní řádek na stránce <strong>Stavy Řízení stavů</strong> lze specifikovat:</p>
<ul>
<li><strong>Kontrolovaná pole</strong></li>
<li><strong>Kontrolované tabulky</strong></li>
<li><strong>Nastavovaná pole</strong></li>
<li><strong>Akce Řízení stavů</strong></li>
</ul>
<h3 id="kontrolovaná-pole">Kontrolovaná pole</h3>
<p>Pro každý stav (řádek na stránce Stavy Řízení stavů) je možné nadefinovat pole, která se budou kontrolovat při přechodu do daného stavu.</p>
<p>Pro kontrolovaná pole je nutné vyplnit minimálně <strong>Kód</strong>, <strong>ID pole</strong> (kde se zaznamenává pole, které by mělo být kontrolováno) a pole <strong>Kontrola hodnoty</strong> (udává, jaký typ kontroly bude prováděn při nastavení daného stavu):</p>
<ul>
<li><strong>Kód nutný</strong> – Pokud do pole Kontrola hodnoty zadáte tuto možnost, systém bude kontrolovat, zda je v poli (které jste zadali do pole ID pole) vyplněna libovolná hodnota. Pokud je pole libovolně vyplněno, tak se bude dát přepnout stav do daného stavu.</li>
<li><strong>Stejný kód</strong> – Tato možnost označuje, že v poli (které je vyplněno v poli ID pole) musí být vyplněna stejná hodnota jako v poli <strong>Hodnota</strong> na stránce Kontrolovaná pole Řízení stavů. V tomto případě, nemůžete vyplnit pole Podmínka porovnání.</li>
<li><strong>Žádný kód</strong> – v poli (které je vyplněno v poli ID pole) nesmí být při přechodu do daného stavu nic vyplněno.</li>
<li><strong>Porovnat hodnotu</strong> - Při výběru této možnosti, systém porovnává hodnotu v daném poli s hodnotou vyplněnou v poli <strong>Hodnota</strong> na stránce Kontrolovaná pole Řízení stavů. Proto musí být pole Hodnota, při výběru této možnosti, vyplněno. Rozdíl vůči možnosti Stejný kód je v tom, že v poli <strong>Podmínka porovnání</strong> můžete zvolit metodu porovnání (Rovná se, Nerovná se, Menší než, Menší než nebo rovno, Větší než, Větší než nebo rovno).</li>
<li><strong>Porovnat pole</strong> - Při výběru této možnosti je důležité vyplnit pole <strong>Číslo pole porovnání</strong>. V tomhle poli se určuje, s kterým polem budeme dané pole porovnávat. Dále je podstatné vyplnit pole <strong>Podmínka porovnání</strong>, kde můžeme také určit způsoby porovnání jako v předchozí možnosti.</li>
</ul>
<h3 id="nastavovaná-pole">Nastavovaná pole</h3>
<p>Pro každý stav je možné nadefinovat pole, která se budou nastavovat při přechodu do tohoto stavu.</p>
<p>Pro nastavované pole je nutné vyplnit pole <strong>ID pole</strong> a <strong>Hodnota</strong>. V poli Hodnota se zadává, na jakou hodnotu se nastaví pole při přechodu na daný stav Řízení stavů.</p>
<h3 id="akce-řízení-stavů">Akce Řízení stavů</h3>
<p>V Akcích mohou být definované Codeunity, Reporty a XMLPorty, které je možné spouštět při přechodu do daného stavu. Codeunity pro akce si může partner vytvářet sám dle vlastní potřeby v číslech objektů povolených jeho licencí.</p>
<p>Pro každý stav je možné nadefinovat akce, které se budou provádět při přechodu do daného stavu. Pro akci je nutné nadefinovat pole <strong>Kód akce</strong>, <strong>Číslo pole (hodnota)</strong> a <strong>Hodnota</strong>.</p>
<p>V poli <strong>Číslo pole (hodnota)</strong> se definuje z jakého pole se vezme obsah a předá se jako parametr akci (např. při změně stavu na kartě zákazníka je možné vyplnit číslo pole 102 a jako parametr se akci předá obsah pole E-mail). V poli Hodnota se zadává přímo hodnota, která se předá akci jako parametr (např. konkrétní e-mail).
Pomocí funkce Texty mailu je možné definovat obsah mailu (předmět a vlastní text). Do textu je možné vkládat kódy, které se při odeslání mailu nahradí obsahem polí. Kódy se definují pomocí funkce Pole mailu.</p>
<h3 id="kontrolované-tabulky">Kontrolované tabulky</h3>
<p>Tato funkce pomáhá kontrolovat nastavené pole na jiné stránce (v jiné tabulce, jako je tabulka, v které aktuálně pracujete). Je to obdobná funkce jako Akce Řízení stavů. Pomocí této funkce můžete ověřit či je pole na jiné stránce nastaveno tak, jak je potřebné při přechodu, do daného stavu, na kterém tuto funkci využíváte.</p>
<p>Pokud kliknete na funkci Kontrolované tabulky, otevře se stránka Kontrolované tabulky Řízení stavů, kde je automaticky vyplněno pole <strong>Kód šablony</strong> a <strong>Kód stavu</strong>. Na této stránce je potřebné vyplnit pole <strong>Kód</strong>, <strong>ID tabulky</strong>, v které chcete zkontrolovat nějaké pole, <strong>Metoda kontroly tabulky</strong> a popřípadě pole <strong>Hodnota</strong>.</p>
<h2 id="nastavení-řízení-stavů">Nastavení Řízení stavů</h2>
<p>Toto nastavení slouží k propojení definovaných šablon řízení stavů s entitou, ve které má být dané řízení stavů použito.</p>
<ol>
<li>Vyberte ikonu <img src="media/ui-search/search_small.png" alt="Žárovky, která otevře funkci Řekněte mi" title="Řekněte mi, co chcete dělat">, zadejte <strong>Nastavení řízení stavů</strong> a poté vyberte související odkaz.</li>
<li>Na stránce <strong>Nastavení řízení stavů</strong> zvolte akci <strong>Nový</strong>.</li>
<li>Vyplňte pole <strong>Číslo tabulky</strong> a <strong>Šablony řízení stavů</strong>.</li>
<li>Pokud chcete povolit uživatelské kontroly stavů, zaškrtněte políčko <strong>Uživatelské kontroly Řízení stavů povoleny</strong>.</li>
</ol>
<p><img src="media/WF_states_setup.png" alt="Nastavení Řízení stavů"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Nastavení řízení stavů bude aktivováno až po následném odhlášení a znovu přihlášení uživatelů, tak jak upozorňuje informativní hláška.</p>
</div>
<h2 id="viz-také">Viz také</h2>
<p><a href="ac-workflow-status-management.html">WorkFlow - řízení stavů</a><br>
<a href="ac-productivity-pack.html">Productivity Pack</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/AutoContCZ/AC-IB-dynamics365smb-docs.cs-cz/blob/master/business-central/AC-ProductivityPack/ac-workflow-status-management-setup.md/#L1" class="contribution-link">Vylep&#353;it dokument</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>V t&#233;to sekci</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Zpět na začátek</a>
            </span>
            
            <span><a href="https://muj.autocont.cz/docs/en-us/dynamics365/business-central/AC-Solutions/ac-solutions.html"><strong>ENGLISH</strong><strong>/</strong><a href="https://muj.autocont.cz/docs/cs-cz/dynamics365/business-central/AC-Solutions/ac-solutions.html"><strong>CZECH</strong></a></a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>